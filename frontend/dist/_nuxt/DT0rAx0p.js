import{_ as g,u as C,r as d,m as s,o as p,c as y,a as n,b as r,w as u,C as k,d as P,z as V,n as B}from"./0Y_4GbZS.js";import{u as I}from"./DbG-0bUL.js";import{S as i}from"./DOYwHpwi.js";const N={class:"card"},E={__name:"ChangePassword",setup(m){const c=V(),l=C(),_=I(),o=d(""),a=d(!1),v=async()=>{try{const t=await fetch(`${c.public.API_BASE_URL}auth/change-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_.token}`},body:JSON.stringify({newPassword:o.value})}),e=await t.json();t.ok?(i.fire({icon:"success",title:"Éxito",text:e.message}),l.push("/")):i.fire({icon:"error",title:"Error",text:e.message})}catch(t){console.error("Error changing password",t),i.fire({icon:"error",title:"Error",text:"Hubo un problema al cambiar la contraseña. Inténtalo de nuevo."})}},f=()=>{a.value=!a.value};return(t,e)=>{const w=s("v-text-field"),x=s("v-btn"),b=s("v-card");return p(),y("div",N,[e[3]||(e[3]=n("h1",{class:"title"},"Cambiar Contraseña",-1)),r(b,{class:"mx-auto pa-12 pb-8",elevation:"8","max-width":"390",rounded:"lg"},{default:u(()=>[e[2]||(e[2]=n("div",{class:"text-subtitle-1 text-medium-emphasis color-#009c8c"},[n("p",{class:"form-text"},"Nueva contraseña")],-1)),r(w,{class:"input",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=h=>o.value=h),type:a.value?"text":"password",placeholder:"Inserta tu nueva contraseña","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","append-inner-icon":a.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":f},null,8,["modelValue","type","append-inner-icon"]),r(x,{class:"button mb-8",size:"large",variant:"tonal",block:"",onClick:k(v,["prevent"])},{default:u(()=>e[1]||(e[1]=[P(" Cambiar ")])),_:1})]),_:1})])}}},S=g(E,[["__scopeId","data-v-7c5ede1a"]]),R={__name:"change-password",setup(m){return(c,l)=>(p(),B(S))}};export{R as default};
