import{_ as y,r as x,g as w,m as s,o as I,n as b,w as c,b as i,C as A,d as C,z as S}from"./PexJTClo.js";import{S as l}from"./DOYwHpwi.js";const T={__name:"InventoryUpdate",props:{inventory:Object},emits:["save"],setup(u,{emit:p}){const d=S(),a=u,r=p,o=x({...a.inventory});w(()=>a.inventory,t=>{o.value={...t}});const v=async()=>{try{const t=await fetch(`${d.public.API_BASE_URL}inventories/${a.inventory.id}`,{method:"PATCH",body:JSON.stringify({status:o.value.status}),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),e=await t.json();if(console.log("Server Response:",e),!t.ok)throw new Error(`HTTP error! status: ${t.status}`);l.fire({title:"Se actualizÃ³",text:"Actualizada correctamente",icon:"success",confirmButtonText:"Aceptar"}),r("save",!0,e)}catch{l.fire({title:"Error interno",text:"No se pudo actualizar",icon:"error",confirmButtonText:"Aceptar"}),r("save",!1,null)}};return(t,e)=>{const m=s("v-text-field"),f=s("v-btn"),_=s("v-form");return I(),b(_,{class:"form-container"},{default:c(()=>[i(m,{class:"input",modelValue:o.value.status,"onUpdate:modelValue":e[0]||(e[0]=n=>o.value.status=n),label:"Estado de producto",rules:[n=>!!n||"El estado es requerido"]},null,8,["modelValue","rules"]),i(f,{class:"save-button",onClick:A(v,["prevent"])},{default:c(()=>e[1]||(e[1]=[C("Guardar")])),_:1})]),_:1})}}},B=y(T,[["__scopeId","data-v-21515356"]]);export{B as I};
