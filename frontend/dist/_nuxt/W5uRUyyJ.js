import{_ as y,u as h,r as i,m as c,o as _,c as k,a as o,b as n,w as f,C as P,d as V,z as I,n as B}from"./C580C0F8.js";import{u as N}from"./DiWAraGw.js";import{S as d}from"./DOYwHpwi.js";const A={class:"card"},E={__name:"ChangePassword",setup(w){const u=I(),p=h(),x=N(),s=i(""),r=i(""),t=i(!1),b=async()=>{try{const a=await fetch(`${u.public.API_BASE_URL}change-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x.token}`},body:JSON.stringify({currentPassword:s.value,newPassword:r.value})}),e=await a.json();a.ok?(d.fire({icon:"success",title:"Éxito",text:e.message}),p.push("/")):d.fire({icon:"error",title:"Error",text:e.message})}catch(a){console.error("Error changing password",a),d.fire({icon:"error",title:"Error",text:"Hubo un problema al cambiar la contraseña. Inténtalo de nuevo."})}},m=()=>{t.value=!t.value};return(a,e)=>{const v=c("v-text-field"),g=c("v-btn"),C=c("v-card");return _(),k("div",A,[e[5]||(e[5]=o("h1",{class:"title"},"Cambiar Contraseña",-1)),n(C,{class:"mx-auto pa-12 pb-8",elevation:"8","max-width":"390",rounded:"lg"},{default:f(()=>[e[3]||(e[3]=o("div",{class:"text-subtitle-1 text-medium-emphasis color-#009c8c"},[o("p",{class:"form-text"},"Contraseña Actual")],-1)),n(v,{class:"input",modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),type:t.value?"text":"password",placeholder:"Ingresa tu contraseña actual","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","append-inner-icon":t.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":m},null,8,["modelValue","type","append-inner-icon"]),e[4]||(e[4]=o("div",{class:"text-subtitle-1 text-medium-emphasis color-#009c8c"},[o("p",{class:"form-text"},"Nueva contraseña")],-1)),n(v,{class:"input",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),type:t.value?"text":"password",placeholder:"Inserta tu nueva contraseña","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","append-inner-icon":t.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":m},null,8,["modelValue","type","append-inner-icon"]),n(g,{class:"button mb-8",size:"large",variant:"tonal",block:"",onClick:P(b,["prevent"])},{default:f(()=>e[2]||(e[2]=[V(" Cambiar ")])),_:1})]),_:1})])}}},S=y(E,[["__scopeId","data-v-009167a6"]]),T={__name:"change-password",setup(w){return(u,p)=>(_(),B(S))}};export{T as default};
