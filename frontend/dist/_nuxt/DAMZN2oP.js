import{a8 as s}from"./DX0_N7Ks.js";const r=e=>{localStorage.setItem("token",e)},o=()=>typeof window<"u"?localStorage.getItem("token"):null,i=()=>typeof window<"u"?localStorage.removeItem("token"):null,l=e=>{localStorage.setItem("user",JSON.stringify(e))},n=()=>{const e=typeof window<"u"?localStorage.getItem("user"):null;return e?JSON.parse(e):null},u=()=>typeof window<"u"?localStorage.removeItem("user"):null,d=s("auth",{state:()=>({isAuthenticated:!!o(),user:n(),token:o(),loading:!0}),actions:{loadUserFromStorage(){const e=o(),t=n();e&&t?(this.token=e,this.user=t,this.isAuthenticated=!0):(this.isAuthenticated=!1,this.token=null,this.user=null),this.loading=!1},login(e,t){r(e),l(t),this.token=e,this.user=t,this.isAuthenticated=!0,this.loading=!1},logout(){i(),u(),this.isAuthenticated=!1,this.token=null,this.user=null,this.loading=!1}}});export{d as u};
